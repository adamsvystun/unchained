{"version":3,"sources":["webpack:///./src/App.js?a673","webpack:///./src/api/area.js?f2ea","webpack:///./src/containers/HomePage/index.js?317b","webpack:///./src/actions/area.js?4912"],"names":["Home","match","Area","Channel","App","getUserAreas","then","res","console","log","data","forEach","o","props","dispatch","addAreaAsync","connect","findArea","lat","long","axios","post","get","addUserArea","area","HomePage","state","areas","locations","getLocation","setState","coords","latitude","longitude","handleAreas","loc","navigator","geolocation","getCurrentPosition","consumeLocation","bind","filter","i","length","id","location","mapStateToProps","addArea","type","payload","getChannels","val","addChannel","addUserAsync"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAKA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,IAAMA,OAAO,SAAPA,IAAO;AAAA,QAAEC,KAAF,QAAEA,KAAF;AAAA,WAAc;AAAA;AAAA,UAAK,WAAU,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACvB,oEAAC,mEAAD,IAAQ,OAAOA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA,UADuB;AAEvB,oEAAC,qEAAD,IAAU,OAAOA,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAFuB,KAAd;AAAA,CAAb;AAIA,IAAMC,OAAO,SAAPA,IAAO;AAAA,QAAED,KAAF,SAAEA,KAAF;AAAA,WAAc;AAAA;AAAA,UAAK,WAAU,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACvB,oEAAC,mEAAD,IAAQ,OAAOA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA,UADuB;AAEvB,oEAAC,qEAAD,IAAU,OAAOA,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAFuB,KAAd;AAAA,CAAb;AAIA,IAAME,UAAU,SAAVA,OAAU;AAAA,QAAEF,KAAF,SAAEA,KAAF;AAAA,WAAc;AAAA;AAAA,UAAK,WAAU,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1B,oEAAC,mEAAD,IAAQ,OAAOA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA,UAD0B;AAE1B,oEAAC,wEAAD,IAAa,OAAOA,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAF0B,KAAd;AAAA,CAAhB;;IAIMG,G;;;;;;;;;;;6CACkB;AAAA;;AAChBC,YAAA,sFAAAA,GAAeC,IAAf,CAAoB,UAACC,GAAD,EAAO;AACvBC,wBAAQC,GAAR,CAAYF,IAAIG,IAAhB;AACAH,oBAAIG,IAAJ,CAASC,OAAT,CAAiB,UAACC,CAAD,EAAK;AAClB,2BAAKC,KAAL,CAAWC,QAAX,CAAoB,0FAAAC,CAAaH,CAAb,CAApB;AACH,iBAFD;AAGH,aALD;AAMH;;;iCACO;AACJ,mBACA;AAAC,uFAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA,sBAAK,WAAU,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,gFAAC,+DAAD,IAAO,WAAP,EAAa,YAAb,EAAoB,MAAK,GAAzB,EAA6B,WAAWZ,IAAxC;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ;AAEI,gFAAC,+DAAD,IAAO,WAAP,EAAa,MAAK,aAAlB,EAAgC,WAAWE,IAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAGI,gFAAC,+DAAD,IAAO,WAAP,EAAa,MAAK,8BAAlB,EAAiD,WAAWC,OAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAHJ;AADJ,aADA;AASH;;;;EAnBa,gD;;AAqBlB,yDAAe,mFAAAa,GAAUZ,GAAV,CAAf,E;;;;;;;;;;;;;ACjDA;;AAEO,SAASa,QAAT,OAAgC;AAAA,QAAZC,GAAY,QAAZA,GAAY;AAAA,QAAPC,IAAO,QAAPA,IAAO;;AACnC,WAAO,6CAAAC,CAAMC,IAAN,CAAW,YAAX,EAAyB;AAC5BH,aAAKA,GADuB;AAE5BC,cAAMA;AAFsB,KAAzB,CAAP;AAIH;;AAEM,SAASd,YAAT,GAAwB;AAC3B,WAAO,6CAAAe,CAAME,GAAN,CAAU,gBAAV,CAAP;AACH;;AAEM,SAASC,WAAT,QAA+B;AAAA,QAARC,IAAQ,SAARA,IAAQ;;AAClC,WAAO,6CAAAJ,CAAMC,IAAN,CAAW,eAAX,EAA4B;AAC/BG,cAAMA;AADyB,KAA5B,CAAP;AAGH,C;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBD;AACA;AACA;AACA;AACA;AACA;;IAEMC,Q;;;AACF,sBAAYZ,KAAZ,EAAkB;AAAA;;AAAA,wHACRA,KADQ;;AAEd,cAAKa,KAAL,GAAa;AACTC,mBAAO,EADE;AAETC,uBAAW;AAFF,SAAb;AAIA,cAAKC,WAAL;AANc;AAOjB;;;;oCACWF,K,EAAM;AACd,iBAAKG,QAAL,CAAc,EAACH,OAAOA,KAAR,EAAd;AACH;;;wCACef,C,EAAE;AAAA;;AACdK,YAAA,kFAAAA,CAAS;AACLC,qBAAKN,EAAEmB,MAAF,CAASC,QADT;AAELb,sBAAMP,EAAEmB,MAAF,CAASE;AAFV,aAAT,EAGG3B,IAHH,CAGQ,UAACC,GAAD,EAAO;AACX,uBAAK2B,WAAL,CAAiB3B,IAAIG,IAArB;AACH,aALD;AAMA,iBAAKoB,QAAL,CAAc,EAACK,KAAKvB,CAAN,EAAd;AACH;;;sCACa;AACV,gBAAIwB,UAAUC,WAAd,EAA2B;AACvBD,0BAAUC,WAAV,CAAsBC,kBAAtB,CAAyC,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAzC;AACH,aAFD,MAEO;AACHhC,wBAAQC,GAAR,CAAY,+CAAZ;AACH;AACJ;;;iCACQ;AAAA;;AACL,gBAAIkB,QAAQ,KAAKD,KAAL,CAAWC,KAAX,CAAiBc,MAAjB,CAAwB,UAAC7B,CAAD,EAAK;AACrC,qBAAK,IAAI8B,IAAI,CAAb,EAAgBA,IAAI,OAAK7B,KAAL,CAAWc,KAAX,CAAiBgB,MAArC,EAA6CD,GAA7C,EAAkD;AAC9C,wBAAG,OAAK7B,KAAL,CAAWc,KAAX,CAAiBe,CAAjB,EAAoBE,EAApB,IAA0BhC,EAAEgC,EAA/B,EAAkC;AAC9B,+BAAO,KAAP;AACH;AACJ;AACD,uBAAO,IAAP;AACH,aAPW,CAAZ;AAQA,gBAAIC,WAAW,EAAf;AACA,mBACI;AAAA;AAAA,kBAAK,WAAU,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ;AAEI,4EAAC,qEAAD,IAAU,OAAO,KAAKhC,KAAL,CAAWc,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHJ;AAII,4EAAC,yEAAD,IAAc,UAAU,KAAKd,KAAL,CAAWC,QAAnC,EAA8C,OAAOa,KAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ,aADJ;AAQH;;;;EA9CkB,gD;;AAiDvB,SAASmB,eAAT,CAAyBpB,KAAzB,EAAgC;AAC5B,WAAO,EAAEC,OAAOD,MAAMC,KAAf,EAAP;AACH;;AAED,yDAAe,mFAAAX,CAAQ8B,eAAR,EAAyBrB,QAAzB,CAAf,E;;;;;;;;;;;;;;AC5DA;AACA;AACA;;AAEO,SAASsB,OAAT,CAAiBvB,IAAjB,EAAsB;AACzB,WAAO;AACHwB,cAAM,UADH;AAEHC,iBAASzB;AAFN,KAAP;AAIH;;AAEM,SAAST,YAAT,CAAsBS,IAAtB,EAA4B;AAC/B,WAAO,oBAAY;AACfV,iBAASiC,QAAQvB,IAAR,CAAT;AACA0B,QAAA,wFAAAA,CAAY,EAAC1B,MAAMA,KAAKoB,EAAZ,EAAZ,EAA6BtC,IAA7B,CAAkC,UAACC,GAAD,EAAO;AACrCA,gBAAIG,IAAJ,CAASC,OAAT,CAAiB,UAACwC,GAAD,EAAS;AACtBrC,yBAAS,mFAAAsC,CAAWD,GAAX,CAAT;AACH,aAFD;AAGH,SAJD;AAKH,KAPD;AAQH;;AAEM,SAASE,YAAT,CAAsB7B,IAAtB,EAA4B;AAC/B,WAAO,oBAAY;AACfV,iBAASiC,QAAQvB,IAAR,CAAT;AACA0B,QAAA,wFAAAA,CAAY,EAAC1B,MAAMA,KAAKoB,EAAZ,EAAZ,EAA6BtC,IAA7B,CAAkC,UAACC,GAAD,EAAO;AACrCA,gBAAIG,IAAJ,CAASC,OAAT,CAAiB,UAACwC,GAAD,EAAS;AACtBrC,yBAAS,mFAAAsC,CAAWD,GAAX,CAAT;AACH,aAFD;AAGH,SAJD;AAKA5B,QAAA,qFAAAA,CAAY,EAACC,MAAMA,KAAKoB,EAAZ,EAAZ,EAA6BtC,IAA7B,CAAkC,UAACC,GAAD,EAAO;AACrCC,oBAAQC,GAAR,CAAYF,GAAZ;AACH,SAFD;AAGH,KAVD;AAWH,C","file":"0.382308275887f4cffa9c.hot-update.js","sourcesContent":["import React, { Component } from 'react'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link\n} from 'react-router-dom'\nimport { connect } from 'react-redux';\n\nimport Header from './components/Header'\nimport HomePage from './containers/HomePage'\nimport AreaPage from './containers/AreaPage'\nimport ChannelPage from './containers/ChannelPage'\n\nimport { addAreaAsync } from './actions/area'\nimport { getUserAreas } from './api/area'\n\nconst Home = ({match}) => (<div className=\"app-wrap\">\n    <Header match={match}/>\n    <HomePage match={match}/>\n</div>)\nconst Area = ({match}) => (<div className=\"app-wrap\">\n    <Header match={match}/>\n    <AreaPage match={match}/>\n</div>)\nconst Channel = ({match}) => (<div className=\"app-wrap\">\n    <Header match={match}/>\n    <ChannelPage match={match}/>\n</div>)\nclass App extends Component {\n    componentWillMount(){\n        getUserAreas().then((res)=>{\n            console.log(res.data)\n            res.data.forEach((o)=>{\n                this.props.dispatch(addAreaAsync(o))\n            })\n        })\n    }\n    render(){\n        return (\n        <Router>\n            <div className=\"router-wrap\">\n                <Route exact strict path=\"/\" component={Home}/>\n                <Route exact path=\"/area/:area\" component={Area}/>\n                <Route exact path=\"/area/:area/channel/:channel\" component={Channel}/>\n            </div>\n        </Router>\n        )\n    }\n}\nexport default connect()(App)\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js","import axios from 'axios'\n\nexport function findArea({ lat, long}) {\n    return axios.post('/findArea/', {\n        lat: lat,\n        long: long\n    })\n}\n\nexport function getUserAreas() {\n    return axios.get('/getUserAreas/')\n}\n\nexport function addUserArea({ area }) {\n    return axios.post('/addUserArea/', {\n        area: area\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/area.js","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport AreaList from '../../components/AreaList'\nimport OpenAreaList from '../../components/OpenAreaList';\nimport './styles.css';\nimport { findArea } from '../../api/area'\n\nclass HomePage extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            areas: [],\n            locations: null\n        }\n        this.getLocation()\n    }\n    handleAreas(areas){\n        this.setState({areas: areas})\n    }\n    consumeLocation(o){\n        findArea({\n            lat: o.coords.latitude,\n            long: o.coords.longitude\n        }).then((res)=>{\n            this.handleAreas(res.data)\n        })\n        this.setState({loc: o})\n    }\n    getLocation() {\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(this.consumeLocation.bind(this))\n        } else {\n            console.log(\"Geolocation is not supported by this browser.\")\n        }\n    }\n    render() {\n        var areas = this.state.areas.filter((o)=>{\n            for (var i = 0; i < this.props.areas.length; i++) {\n                if(this.props.areas[i].id == o.id){\n                    return false\n                }\n            }\n            return true\n        })\n        var location = \"\"\n        return (\n            <div className=\"wrap\">\n                <div>Your areas</div>\n                <AreaList areas={this.props.areas} />\n                <div>Open areas</div>\n                <OpenAreaList dispatch={this.props.dispatch } areas={areas} />\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return { areas: state.areas }\n}\n\nexport default connect(mapStateToProps)(HomePage)\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/HomePage/index.js","import { getChannels } from '../api/channel'\nimport { addUserArea } from '../api/area'\nimport { addChannel } from './channel'\n\nexport function addArea(area){\n    return {\n        type: \"ADD_AREA\",\n        payload: area\n    }\n}\n\nexport function addAreaAsync(area) {\n    return dispatch => {\n        dispatch(addArea(area))\n        getChannels({area: area.id}).then((res)=>{\n            res.data.forEach((val) => {\n                dispatch(addChannel(val))\n            });\n        })\n    };\n}\n\nexport function addUserAsync(area) {\n    return dispatch => {\n        dispatch(addArea(area))\n        getChannels({area: area.id}).then((res)=>{\n            res.data.forEach((val) => {\n                dispatch(addChannel(val))\n            });\n        })\n        addUserArea({area: area.id}).then((res)=>{\n            console.log(res)\n        })\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/area.js"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/api/sockets.js?e9c6","webpack:///./src/actions/message.js?96c6"],"names":["wsocket","WebSocket","window","location","host","console","log","onopen","onOpen","onerror","onError","store","dispatch","type","payload","channel","e","send","msg","onmessage","data","JSON","parse","addMessage","message","messages","forEach","o"],"mappings":";;;;;;;;;AAAA;AACA;;AAEA,IAAIA,UAAU,IAAIC,SAAJ,CAAc,UAASC,OAAOC,QAAP,CAAgBC,IAAzB,GAA+B,aAA7C,CAAd;AACAC,QAAQC,GAAR,CAAYN,OAAZ;AACAA,QAAQO,MAAR,GAAiBC,MAAjB;AACAR,QAAQS,OAAR,GAAkBC,OAAlB;;AAEA,uDAAAC,CAAMC,QAAN,CAAe;AACXC,UAAM,aADK;AAEXC,aAAS;AACLC,iBAAS;AADJ;AAFE,CAAf;AAMA,SAASP,MAAT,CAAgBQ,CAAhB,EAAmB;AACfX,YAAQC,GAAR,CAAYU,CAAZ;AACH;AACD,SAASN,OAAT,CAAiBM,CAAjB,EAAoB;AAChBX,YAAQC,GAAR,CAAYU,CAAZ;AACH;AACM,SAASC,IAAT,CAAcC,GAAd,EAAmB;AACtBlB,YAAQiB,IAAR,CAAaC,GAAb;AACH;;AAEDlB,QAAQmB,SAAR,GAAoB,aAAK;AACrB,QAAIC,OAAOC,KAAKC,KAAL,CAAWN,EAAEI,IAAb,CAAX;AACA,YAAQA,KAAKP,IAAb;AACI,aAAK,YAAL;AAAmB;AACfF,gBAAA,uDAAAA,CAAMC,QAAN,CAAe,2FAAAW,CAAWH,KAAKI,OAAhB,CAAf;AACA;AACH;AACD,aAAK,eAAL;AAAsB;AAClBJ,qBAAKK,QAAL,CAAcC,OAAd,CAAsB,UAACC,CAAD,EAAK;AACvBJ,oBAAA,2FAAAA,CAAWI,CAAX;AACH,iBAFD;AAGA;AACH;AAVL;AAYH,CAdD,C;;;;;;;;;ACxBO,SAASJ,UAAT,CAAoBL,GAApB,EAAwB;AAC3B,WAAO;AACHL,cAAM,aADH;AAEHC,iBAASI;AAFN,KAAP;AAIH,C","file":"0.7f068ae1e9b941d86356.hot-update.js","sourcesContent":["import store from '../store'\nimport { addMessage } from '../actions/message'\n\nlet wsocket = new WebSocket(\"ws://\"+ window.location.host +\"/websocket1\")\nconsole.log(wsocket)\nwsocket.onopen = onOpen\nwsocket.onerror = onError\n\nstore.dispatch({\n    type: \"ADD_MESSAGE\",\n    payload: {\n        channel: 1\n    }\n})\nfunction onOpen(e) {\n    console.log(e)\n}\nfunction onError(e) {\n    console.log(e)\n}\nexport function send(msg) {\n    wsocket.send(msg)\n}\n\nwsocket.onmessage = e => {\n    let data = JSON.parse(e.data);\n    switch (data.type) {\n        case \"addMessage\": {\n            store.dispatch(addMessage(data.message));\n            break\n        }\n        case \"fetchMessages\": {\n            data.messages.forEach((o)=>{\n                addMessage(o)\n            })\n            break\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/sockets.js","export function addMessage(msg){\n    return {\n        type: \"ADD_MESSAGE\",\n        payload: msg\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/message.js"],"sourceRoot":""}